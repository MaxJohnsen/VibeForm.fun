@tailwind base;
@tailwind components;
@tailwind utilities;

/* 
  FAIRFORM DESIGN SYSTEM v2
  Clean, open, warm minimalism.
  All colors in HSL format.
*/

@layer base {
  :root {
    /* Core - Off-white background for depth */
    --background: 240 5% 97%;
    --foreground: 240 6% 12%;

    /* Card surfaces - Pure white for contrast */
    --card: 0 0% 100%;
    --card-foreground: 240 6% 12%;

    /* Popovers - Pure white, elevated */
    --popover: 0 0% 100%;
    --popover-foreground: 240 6% 12%;

    /* Primary - Deep Burnt Orange (brand, accents, links) */
    --primary: 20 90% 45%;
    --primary-foreground: 0 0% 100%;

    /* Primary Button Gradient - Premium CTA (login/signup only) */
    --gradient-start: 24 85% 48%;
    --gradient-end: 32 90% 58%;

    /* Accent - Sunny Yellow */
    --accent: 38 92% 56%;
    --accent-foreground: 240 6% 12%;

    /* Secondary surface - Slightly darker than background */
    --secondary: 240 4% 93%;
    --secondary-foreground: 240 6% 25%;

    /* Muted */
    --muted: 240 5% 96%;
    --muted-foreground: 240 4% 46%;

    /* Borders and inputs - More visible */
    --border: 220 9% 83%;
    --input: 220 9% 83%;
    --ring: 20 90% 45%;

    /* Destructive / Error */
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    /* Success */
    --success: 142 76% 36%;
    --success-foreground: 0 0% 100%;
    --success-background: 142 76% 95%;

    /* Warning */
    --warning: 38 92% 50%;
    --warning-foreground: 240 6% 12%;
    --warning-background: 48 96% 95%;

    /* Error background */
    --error-background: 0 93% 97%;

    /* Radius - Large radii for warmth */
    --radius: 0.75rem;

    /* Shadows - Enhanced for depth */
    --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.08), 0 1px 2px -1px rgb(0 0 0 / 0.06);
    --shadow-md: 0 4px 12px -2px rgb(0 0 0 / 0.12), 0 2px 6px -2px rgb(0 0 0 / 0.08);
    --shadow-lg: 0 10px 24px -4px rgb(0 0 0 / 0.15), 0 4px 8px -2px rgb(0 0 0 / 0.1);

    /* Transitions */
    --transition-smooth: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    background: hsl(var(--background));
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Heading typography */
  h1, h2, h3, h4, h5, h6 {
    font-family: 'Outfit', -apple-system, BlinkMacSystemFont, sans-serif;
  }
}

@layer utilities {
  /* Surface panel - replaces glass-panel */
  .surface-panel {
    background: hsl(var(--card));
    border: 1px solid hsl(var(--border));
    box-shadow: var(--shadow-sm);
  }

  /* Keep glass-panel as alias for migration */
  .glass-panel {
    background: hsl(var(--card));
    border: 1px solid hsl(var(--border));
    box-shadow: var(--shadow-sm);
  }

  /* Input focus glow */
  .input-focus-glow {
    transition: var(--transition-smooth);
  }

  .input-focus-glow:focus {
    border-color: hsl(var(--primary));
    box-shadow: 0 0 0 3px hsl(var(--primary) / 0.1);
  }

  /* Hover elevation - subtle */
  .hover-elevate {
    transition: var(--transition-smooth);
  }

  .hover-elevate:hover {
    box-shadow: var(--shadow-md);
  }

  /* Mobile performance optimization */
  .mobile-transform {
    transform: translateZ(0);
    will-change: transform;
  }

  .question-container {
    isolation: isolate;
    overflow: hidden;
  }

  /* Optional dot-grid background texture */
  .bg-dot-pattern {
    background-image: radial-gradient(hsl(var(--border)) 1px, transparent 1px);
    background-size: 24px 24px;
  }

  /* Remove focus styles on touch devices */
  @media (hover: none) {
    button:focus:not(:focus-visible) {
      outline: none;
      box-shadow: none;
    }
  }

  /* Prose styles for rich text rendering */
  .prose-intro {
    @apply text-muted-foreground leading-relaxed;
  }

  .prose-intro p {
    @apply mb-2 last:mb-0;
  }

  .prose-intro strong {
    @apply font-semibold text-foreground;
  }

  .prose-intro em {
    @apply italic;
  }

  .prose-intro a {
    @apply text-primary underline hover:text-primary/80 transition-colors;
  }

  .prose-intro ul,
  .prose-intro ol {
    @apply ml-4 mb-2 last:mb-0;
  }

  .prose-intro li {
    @apply mb-1;
  }

  /* Slack mrkdwn rendered content */
  .slack-content {
    white-space: pre-wrap;
    word-break: break-word;
    color: hsl(var(--foreground));
  }

  .slack-content strong {
    font-weight: 700;
  }

  .slack-content em {
    font-style: italic;
  }

  .slack-content del {
    text-decoration: line-through;
    color: hsl(var(--muted-foreground));
  }

  .slack-content code {
    background: hsl(var(--muted));
    padding: 0.125rem 0.375rem;
    border-radius: 0.25rem;
    font-size: 0.85em;
    font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace;
    color: hsl(var(--destructive));
  }

  .slack-content a {
    color: hsl(var(--primary));
    text-decoration: none;
  }

  .slack-content a:hover {
    text-decoration: underline;
  }
}